{"version":3,"sources":["webpack:///main.9cf532a53a8027d534f1.js","webpack:///./src/index.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/api/userApi.js","webpack:///./src/api/getBaseUrl.js"],"names":["webpackJsonp","module","exports","__webpack_require__","global","_userApi","getUsers","then","result","usersBody","forEach","user","id","firstName","document","getElementById","innerHTML","deleteLinks","getElementsByClassName","Array","from","link","onclick","event","element","target","preventDefault","deleteUser","attributes","value","row","parentNode","removeChild","call","g","this","Function","eval","e","window","get","del","url","fetch","baseUrl","onSuccess","onError","request","Request","method","response","json","error","console","log","Object","defineProperty","_getBaseUrl","_getBaseUrl2","obj","__esModule","default","getBaseUrl","getQueryStringFromParameterByName","name","match","RegExp","exec","location","search","decodeURIComponent","replace"],"mappings":"AAAAA,cAAc,IACP,CACA,CAED,SAAUC,EAAQC,EAASC,GAEjC,cAC4B,SAASC,GCPrCD,EAAA,EACA,IAAAE,GAAAF,EAAA,IAEA,EAAAE,EAAAC,YAAWC,KAAK,SAAAC,GACZ,GAAIC,GAAY,EAEhBD,GAAOE,QAAQ,SAAAC,GACXF,6CAC2BE,EAAKC,GADhC,qDAEMD,EAAKC,GAFX,sBAGMD,EAAKE,UAHX,yBAOJT,EAAOU,SAASC,eAAe,SAASC,UAAYP,CAEpD,IAAMQ,GAAcb,EAAOU,SAASI,uBAAuB,aAE3DC,OAAMC,KAAKH,EAAa,SAAAI,GACpBA,EAAKC,QAAU,SAAUC,GACrB,GAAMC,GAAUD,EAAME,MACtBF,GAAMG,kBACN,EAAArB,EAAAsB,YAAWH,EAAQI,WAAW,WAAWC,MACzC,IAAMC,GAAMN,EAAQO,WAAWA,UAC/BD,GAAIC,WAAWC,YAAYF,UDUVG,KAAK/B,EAASC,EAAoB,KAIzD,SAAUF,EAAQC,GEtCxB,GAAAgC,EAGAA,GAAA,WACA,MAAAC,QAGA,KAEAD,KAAAE,SAAA,qBAAAC,MAAA,QACC,MAAAC,GAED,gBAAAC,UACAL,EAAAK,QAOAtC,EAAAC,QAAAgC,GF6CM,SAAUjC,EAAQC,KAMlB,SAAUD,EAAQC,EAASC,GAEjC,YGpEO,SAASG,KACZ,MAAOkC,GAAI,SAGR,QAASb,GAAWf,GACvB,MAAO6B,YAAa7B,GAGxB,QAAS4B,GAAIE,GACT,MAAOC,OAAMC,EAAUF,GAAKnC,KAAKsC,EAAWC,GAGhD,QAASL,GAAIC,GACT,GAAMK,GAAU,GAAIC,SAAQJ,EAAQF,GAChCO,OAAS,UAGb,OAAON,OAAMI,GAASxC,KAAKsC,EAAUC,GAGzC,QAASD,GAAUK,GACf,MAAOA,GAASC,OAGpB,QAASL,GAAQM,GACbC,QAAQC,IAAIF,GH8ChBG,OAAOC,eAAetD,EAAS,cAC3B2B,OAAO,IAEX3B,EG1EgBI,WH2EhBJ,EGvEgByB,aAThBxB,EAAA,EACA,IAAAsD,GAAAtD,EAAA,GHqFIuD,EAEJ,SAAgCC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,IAF7CF,GGnFpCb,GAAU,EAAAc,EAAAG,YHuHV,SAAU5D,EAAQC,EAASC,GAEjC,YI5He,SAAS2D,KACpB,MAAOC,GAAkC,cAAgB,yBAA2B,IAGxF,QAASA,GAAkCC,GACvC,GAAIC,GAAQC,OAAO,OAASF,EAAO,YAAYG,KAAK5B,OAAO6B,SAASC,OACpE,OAAOJ,IAASK,mBAAmBL,EAAM,GAAGM,QAAQ,MAAO,MJyH/DhB,OAAOC,eAAetD,EAAS,cAC3B2B,OAAO,IAEX3B,EAAQ2D,QIlIgBC,KJ6IrB","file":"main.9cf532a53a8027d534f1.js","sourcesContent":["webpackJsonp([0],[\n/* 0 */,\n/* 1 */,\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\n__webpack_require__(4);\n\nvar _userApi = __webpack_require__(5);\n\n(0, _userApi.getUsers)().then(function (result) {\n    var usersBody = \"\";\n\n    result.forEach(function (user) {\n        usersBody += \"<tr>\\n        <td><a href=\\\"#\\\" data-id=\\\"\" + user.id + \"\\\" class=\\\"deleteUser\\\">Delete</a></td>\\n        <td>\" + user.id + \"</td>\\n        <td>\" + user.firstName + \"</td>\\n        </tr>\";\n    });\n\n    global.document.getElementById('users').innerHTML = usersBody;\n\n    var deleteLinks = global.document.getElementsByClassName(\"deleteUser\");\n\n    Array.from(deleteLinks, function (link) {\n        link.onclick = function (event) {\n            var element = event.target;\n            event.preventDefault();\n            (0, _userApi.deleteUser)(element.attributes[\"data-id\"].value);\n            var row = element.parentNode.parentNode;\n            row.parentNode.removeChild(row);\n        };\n    });\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3)))\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nvar g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\n} catch(e) {\n\t// This works if the window reference is available\n\tif(typeof window === \"object\")\n\t\tg = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.getUsers = getUsers;\nexports.deleteUser = deleteUser;\n\n__webpack_require__(0);\n\nvar _getBaseUrl = __webpack_require__(6);\n\nvar _getBaseUrl2 = _interopRequireDefault(_getBaseUrl);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar baseUrl = (0, _getBaseUrl2.default)();\n\nfunction getUsers() {\n    return get('users');\n}\n\nfunction deleteUser(id) {\n    return del('users/' + id);\n}\n\nfunction get(url) {\n    return fetch(baseUrl + url).then(onSuccess, onError);\n}\n\nfunction del(url) {\n    var request = new Request(baseUrl + url, {\n        method: \"DELETE\"\n    });\n\n    return fetch(request).then(onSuccess, onError);\n}\n\nfunction onSuccess(response) {\n    return response.json();\n}\n\nfunction onError(error) {\n    console.log(error);\n}\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = getBaseUrl;\nfunction getBaseUrl() {\n    return getQueryStringFromParameterByName('useMockApi') ? \"http://localhost:3001/\" : \"/\";\n}\n\nfunction getQueryStringFromParameterByName(name) {\n    var match = RegExp('[?&]' + name + '=([^&]*)').exec(window.location.search);\n    return match && decodeURIComponent(match[1].replace(/\\+/g, ' '));\n}\n\n/***/ })\n],[2]);\n\n\n// WEBPACK FOOTER //\n// main.9cf532a53a8027d534f1.js","import './index.css';\nimport {getUsers, deleteUser} from \"./api/userApi\";\n\ngetUsers().then(result => {\n    let usersBody = \"\";\n\n    result.forEach(user => {\n        usersBody += `<tr>\n        <td><a href=\"#\" data-id=\"${user.id}\" class=\"deleteUser\">Delete</a></td>\n        <td>${user.id}</td>\n        <td>${user.firstName}</td>\n        </tr>`\n    });\n\n    global.document.getElementById('users').innerHTML = usersBody;\n\n    const deleteLinks = global.document.getElementsByClassName(\"deleteUser\");\n\n    Array.from(deleteLinks, link => {\n        link.onclick = function (event) {\n            const element = event.target;\n            event.preventDefault();\n            deleteUser(element.attributes[\"data-id\"].value);\n            const row = element.parentNode.parentNode;\n            row.parentNode.removeChild(row);\n        };\n    });\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\n} catch(e) {\n\t// This works if the window reference is available\n\tif(typeof window === \"object\")\n\t\tg = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 3\n// module chunks = 0","import 'whatwg-fetch';\nimport getBaseUrl from './getBaseUrl';\n\nconst baseUrl = getBaseUrl();\n\nexport function getUsers() {\n    return get('users');\n}\n\nexport function deleteUser(id){\n    return del(`users/${id}`);\n}\n\nfunction get(url){\n    return fetch(baseUrl + url).then(onSuccess, onError );\n}\n\nfunction del(url){\n    const request = new Request(baseUrl+url, {\n        method : \"DELETE\"\n    });\n\n    return fetch(request).then(onSuccess,onError);\n}\n\nfunction onSuccess(response){\n    return response.json();\n}\n\nfunction onError(error){\n    console.log(error);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/userApi.js","export default function getBaseUrl(){\n    return getQueryStringFromParameterByName('useMockApi') ? \"http://localhost:3001/\" : \"/\";\n}\n\nfunction getQueryStringFromParameterByName(name) {\n    var match = RegExp('[?&]' + name + '=([^&]*)').exec(window.location.search);\n    return match && decodeURIComponent(match[1].replace(/\\+/g, ' '));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/getBaseUrl.js"],"sourceRoot":""}